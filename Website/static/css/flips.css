/* =============================================================================
   FLIPS PAGE - BUY LIMIT BUTTON STYLES
   =============================================================================
   What: Styles for the Buy Limit button in the New Flip modal
   Why: Provides a QOL feature to auto-fill quantity with the GE buy limit
   How: Small button positioned above the Quantity label with tooltip and states
   ============================================================================= */

/* -----------------------------------------------------------------------------
   BUY LIMIT BUTTON WRAPPER
   What: Container that positions the button above the Quantity label
   Why: Keeps the button aligned with the form group without disrupting layout
   How: Uses flexbox to align button to the right side of the form group header
   ----------------------------------------------------------------------------- */
.quantity-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 6px;
}

/* Override default margin on label when inside quantity-header */
/* What: Removes default bottom margin from label */
/* Why: The header wrapper now handles spacing */
/* How: Set margin to 0 when label is inside .quantity-header */
.quantity-header .form-label {
    margin-bottom: 0;
}

/* -----------------------------------------------------------------------------
   BUY LIMIT BUTTON BASE STYLES
   What: The main button styling for the Buy Limit feature
   Why: Needs to be small and subtle to not interfere with modal design
   How: Small padding, muted colors, smooth transitions
   ----------------------------------------------------------------------------- */
.btn-buy-limit {
    /* Layout and sizing */
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 3px 8px;
    
    /* Typography */
    font-size: 11px;
    font-weight: 500;
    
    /* Colors - subtle green tint to indicate helpful action */
    background: linear-gradient(135deg, #10B981 0%, #059669 100%);
    color: white;
    
    /* Border and shape */
    border: none;
    border-radius: 4px;
    
    /* Interaction */
    cursor: pointer;
    transition: all 0.15s ease;
    
    /* Positioning for tooltip */
    position: relative;
}

/* -----------------------------------------------------------------------------
   BUY LIMIT BUTTON HOVER STATE
   What: Visual feedback when user hovers over the enabled button
   Why: Indicates the button is interactive and clickable
   How: Slightly brighter background and subtle shadow
   ----------------------------------------------------------------------------- */
.btn-buy-limit:hover:not(:disabled) {
    background: linear-gradient(135deg, #34D399 0%, #10B981 100%);
    box-shadow: 0 2px 6px rgba(16, 185, 129, 0.3);
    transform: translateY(-1px);
}

/* -----------------------------------------------------------------------------
   BUY LIMIT BUTTON ACTIVE/PRESSED STATE
   What: Visual feedback when button is being clicked
   Why: Provides tactile feedback for the click action
   How: Removes transform and reduces shadow
   ----------------------------------------------------------------------------- */
.btn-buy-limit:active:not(:disabled) {
    transform: translateY(0);
    box-shadow: none;
}

/* -----------------------------------------------------------------------------
   BUY LIMIT BUTTON DISABLED STATE
   What: Styling when button is disabled (no item selected)
   Why: Clearly indicates the button cannot be used yet
   How: Grayed out colors, not-allowed cursor, reduced opacity
   ----------------------------------------------------------------------------- */
.btn-buy-limit:disabled {
    background: #9CA3AF;
    color: #E5E7EB;
    cursor: not-allowed;
    opacity: 0.7;
    transform: none;
    box-shadow: none;
}

/* -----------------------------------------------------------------------------
   BUY LIMIT BUTTON LOADING STATE
   What: Styling when the button is fetching data from the API
   Why: Prevents double-clicks and shows user that action is in progress
   How: Same as disabled but keeps the green color to indicate working
   ----------------------------------------------------------------------------- */
.btn-buy-limit.loading {
    background: linear-gradient(135deg, #10B981 0%, #059669 100%);
    cursor: wait;
    opacity: 0.8;
}

/* -----------------------------------------------------------------------------
   SPINNER ICON
   What: Animated loading spinner inside the button
   Why: Provides visual feedback while API request is in progress
   How: CSS animation rotating a small SVG icon
   ----------------------------------------------------------------------------- */
.btn-buy-limit .spinner {
    /* Size */
    width: 10px;
    height: 10px;
    
    /* Hidden by default */
    display: none;
    
    /* Animation */
    animation: spin 1s linear infinite;
}

/* Show spinner when button is in loading state */
/* What: Makes spinner visible during loading */
/* Why: User needs to see that something is happening */
/* How: Change display from none to inline-block */
.btn-buy-limit.loading .spinner {
    display: inline-block;
}

/* Hide text when loading to make room for spinner */
/* What: Hides the "Buy Limit" text during loading */
/* Why: Keeps button compact and focused on the loading indicator */
/* How: Using a class that can be toggled via JavaScript */
.btn-buy-limit.loading .btn-text {
    display: none;
}

/* Spin animation keyframes */
/* What: Defines the rotation animation for the spinner */
/* Why: Creates the visual spinning effect */
/* How: 360 degree rotation over 1 second, repeated infinitely */
@keyframes spin {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

/* -----------------------------------------------------------------------------
   TOOLTIP STYLES
   What: Hover tooltip that explains the button's purpose
   Why: Users need to understand what the button does before clicking
   How: Absolutely positioned element that appears on hover
   ----------------------------------------------------------------------------- */
.btn-buy-limit::after {
    /* Content is set via data-tooltip attribute */
    content: attr(data-tooltip);
    
    /* Positioning */
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    margin-bottom: 6px;
    
    /* Sizing */
    width: max-content;
    max-width: 200px;
    padding: 6px 10px;
    
    /* Typography */
    font-size: 11px;
    font-weight: 400;
    line-height: 1.4;
    text-align: center;
    white-space: normal;
    
    /* Colors */
    background: #1F2937;
    color: #F9FAFB;
    
    /* Border and shape */
    border-radius: 6px;
    
    /* Shadow for depth */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    
    /* Hidden by default */
    opacity: 0;
    visibility: hidden;
    
    /* Smooth transition */
    transition: opacity 0.2s ease, visibility 0.2s ease;
    
    /* Ensure tooltip is above other elements */
    z-index: 1000;
    
    /* Prevent tooltip from capturing mouse events */
    pointer-events: none;
}

/* Tooltip arrow/caret */
/* What: Small triangle pointing down from tooltip to button */
/* Why: Visually connects the tooltip to the button */
/* How: CSS border trick to create a triangle */
.btn-buy-limit::before {
    content: '';
    
    /* Positioning */
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    margin-bottom: 2px;
    
    /* Triangle using borders */
    border-left: 5px solid transparent;
    border-right: 5px solid transparent;
    border-top: 5px solid #1F2937;
    
    /* Hidden by default */
    opacity: 0;
    visibility: hidden;
    
    /* Match tooltip transition */
    transition: opacity 0.2s ease, visibility 0.2s ease;
    
    /* Ensure arrow is above other elements */
    z-index: 1000;
    
    /* Prevent arrow from capturing mouse events */
    pointer-events: none;
}

/* Show tooltip and arrow on hover */
/* What: Makes tooltip visible when user hovers over button */
/* Why: Tooltip should only appear on hover to avoid clutter */
/* How: Change opacity and visibility on :hover state */
.btn-buy-limit:hover::after,
.btn-buy-limit:hover::before {
    opacity: 1;
    visibility: visible;
}
